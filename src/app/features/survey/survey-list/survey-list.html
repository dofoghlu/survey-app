<div class="pt-6">
  @if (surveys.length === 0) {
    <app-empty-state message="No surveys created yet.">
      <ng-container action *ngTemplateOutlet="createBtn"></ng-container>
    </app-empty-state>
  } @else {
    <div class="flex justify-end mb-4">
      <ng-container action *ngTemplateOutlet="createBtn"></ng-container>
    </div>

    <div class="flex flex-col gap-4">
      @for (survey of surveys; track survey.id) {
        <app-survey-item [survey]="survey" (edit)="onEdit($event)" />
      }
    </div>
  }
</div>

<ng-template #createBtn>
  <button
    class="text-button mb-2 flex items-center gap-2"
    [disabled]="isCreating"
    (click)="onCreate()"
  >
    <lucide-icon [img]="Plus" class="w-4 h-4"></lucide-icon> CreateSurvey

    @if (isCreating) {
      <span class="spinner"></span>
    }
  </button>
</ng-template>
